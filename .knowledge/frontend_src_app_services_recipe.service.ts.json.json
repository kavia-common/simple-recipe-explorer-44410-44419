{"is_source_file": true, "format": "TypeScript (Angular Service)", "description": "This file defines a RecipeService class which provides methods to retrieve, filter, and manage recipe data for an Angular application. It supports mock data and API data sources, along with search filters and caching.", "external_files": ["../models/recipe.interface", "./environment.service", "@angular/core", "@angular/common/http", "rxjs", "rxjs/operators"], "external_methods": ["this.environmentService.getApiBaseUrl()", "this.http.get", "combineLatest", "of", "this.searchFiltersSubject.pipe", "map", "catchError"], "published": ["getRecipes", "getRecipeById", "updateSearchFilters", "getSearchFilters"], "classes": [{"name": "RecipeService", "description": "Service class providing recipe data fetching, filtering, and management functionalities for the frontend application"}], "methods": [{"name": "getRecipes", "description": "Retrieves all recipes, either from mock data or via HTTP API, applying current search filters."}, {"name": "getRecipeById", "description": "Retrieves a specific recipe by its ID, from mock data or via API."}, {"name": "updateSearchFilters", "description": "Updates the current search filters and triggers filtering of recipes."}, {"name": "getSearchFilters", "description": "Returns an observable of the current search filters."}, {"name": "filterRecipes", "description": "Filters the list of recipes based on provided search filters."}, {"name": "getMockRecipes", "description": "Provides a list of predefined mock recipes for testing and fallback purposes."}], "calls": ["combineLatest", "of", "this.searchFiltersSubject.pipe", "this.environmentService.getApiBaseUrl()", "this.http.get", "this.getMockRecipes()", "this.filterRecipes"], "search-terms": ["RecipeService", "mock data", "API fallback", "search filters", "filterRecipes", "getRecipeById", "getRecipes"], "state": 2, "file_id": 23, "knowledge_revision": 47, "git_revision": "", "ctags": [{"_type": "tag", "name": "RecipeService", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^export class RecipeService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "apiUrl", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^      const apiUrl = this.environmentService.getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hasMatchingTag", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^        const hasMatchingTag = filters.tags.some(tag => $/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "matchesDescription", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^        const matchesDescription = recipe.description.toLowerCase().includes(query);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "matchesIngredients", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^        const matchesIngredients = recipe.ingredients.some(ing => $/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "matchesTitle", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^        const matchesTitle = recipe.title.toLowerCase().includes(query);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^        const query = filters.query.toLowerCase();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "recipe", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^          const recipe = this.getMockRecipes().find(r => r.id === id) || null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "recipe", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^      const recipe = this.recipesCache.find(r => r.id === id) || null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "searchFiltersSubject", "path": "/home/kavia/workspace/code-generation/simple-recipe-explorer-44410-44419/frontend/src/app/services/recipe.service.ts", "pattern": "/^  private searchFiltersSubject = new BehaviorSubject<RecipeSearchFilters>({});$/", "language": "TypeScript", "kind": "property", "scope": "RecipeService", "scopeKind": "class"}], "hash": "5f08880bcecaa4fa9d670e280ad62eef", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/app/services/recipe.service.ts", "fields": [{"name": "private searchFiltersSubject = new BehaviorSubject<RecipeSearchFilters>({});", "scope": "RecipeService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"47": ""}]}